{% extends 'base.html' %}

{% load extra_tags %}
{% load static %}

{% block main %}

    <main class="{% include 'symbols/main.txt' %}" x-data="trainings()" x-init="init()">

        {#        <aside class="{% include 'symbols/padding.txt' %} lg:w-80">#}
        {#            {% include 'symbols/pages/trainings/sidenav.html' %}#}
        {#        </aside>#}

        <div class="lg:flex-1">

            <section class="{% include 'symbols/padding.txt' %} pb-20 space-y-20">
                {% for group in training_groups %}
                    <div>
                        <h1 class="text-3xl font-bold text-gray-700 mb-8">{{ group.name }}</h1>
                        <ul class="grid gap-4">
                            {% for connection in group.training_connections %}
                                {% with object=connection.training %}
                                    <li x-show="showTraining('{{ object.topic.pk }}')">
                                        <a class="block bg-white rounded shadow"
                                           href="{{ object.get_share_url }}&training={{ object.pk }}">
                                            <div class="flex items-center justify-between md:pl-6">
                                                <div class="flex flex-col md:flex-row md:justify-between w-full">
                                                    <div class="flex-1 px-4 py-3 md:py-6 pr-10 md:truncate flex items-center md:px-0">
                                                        <div class="md:truncate">
                                                            <p class="md:truncate text-base font-medium text-red-600">
                                                                {{ object.name }}
                                                            </p>
                                                            <div class="mt-1 text-sm text-gray-500 md:truncate">
                                                                {{ object.topic.full_name }}
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="rounded-b overflow-hidden md:rounded-l-none md:rounded-r">
                                                        <div class="flex -m-1 md:m-0 md:space-x-2">
                                                            {% include 'symbols/pages/trainings/image.html' with exercise=object.exercise1 %}
                                                            {% include 'symbols/pages/trainings/image.html' with exercise=object.exercise2 %}
                                                            {% include 'symbols/pages/trainings/image.html' with exercise=object.exercise3 %}
                                                            {% include 'symbols/pages/trainings/image.html' with exercise=object.exercise4 %}
                                                            {% include 'symbols/pages/trainings/image.html' with exercise=object.exercise5 %}
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                {% endwith %}
                            {% endfor %}
                        </ul>
                    </div>
                {% endfor %}
            </section>
        </div>

    </main>

    {% include 'alpine/trainings.html' %}

{% endblock %}
